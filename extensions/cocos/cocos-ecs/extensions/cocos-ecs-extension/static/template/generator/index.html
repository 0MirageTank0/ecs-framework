<div class="ecs-generator">
    <div class="generator-container">
        <!-- 头部区域 -->
        <div class="generator-header">
            <h1>🛠️ ECS 代码生成器</h1>
            <p>输入功能名称，快速生成组件和系统代码</p>
        </div>

        <!-- 表单区域 -->
        <div class="generator-form">
            <div class="form-title">📝 基础设置</div>
            
            <!-- 功能名称输入 -->
            <div class="input-group">
                <label class="input-label">功能名称</label>
                <input 
                    v-model="featureName" 
                    @input="updatePreview"
                    type="text" 
                    class="feature-input" 
                    placeholder="例如：Health、Movement、Combat"
                    maxlength="50"
                />
                <div class="input-hint">
                    💡 使用英文名称，首字母大写，例如：Health、Movement、Combat
                </div>
            </div>

            <!-- 生成选项 -->
            <div class="options-group">
                <label class="input-label">生成内容</label>
                
                <div class="option-item">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" v-model="options.generateComponent" @change="updatePreview">
                        <span class="option-title">📦 生成组件 (Component)</span>
                    </label>
                </div>
                <div class="option-description" v-if="options.generateComponent">
                    创建基础组件类，包含reset()方法和基本结构
                </div>

                <div class="option-item">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" v-model="options.generateSystem" @change="updatePreview">
                        <span class="option-title">⚙️ 生成系统 (System)</span>
                    </label>
                </div>
                <div class="option-description" v-if="options.generateSystem">
                    创建处理组件的系统类，包含完整的生命周期方法
                </div>

                <!-- 系统详细配置 -->
                <div class="system-config" v-if="options.generateSystem">
                    <!-- 组件过滤选项 -->
                    <div class="config-section">
                        <label class="config-label">🔍 组件过滤</label>
                        <div class="filter-option">
                            <label class="checkbox-wrapper">
                                <input type="checkbox" v-model="systemOptions.filterByComponent" @change="updatePreview">
                                <span class="option-title">过滤包含组件的实体</span>
                            </label>
                        </div>
                        <div class="option-description" v-if="systemOptions.filterByComponent">
                            系统只处理包含指定组件的实体。如果勾选了"生成组件"，会自动过滤{{featureName}}Component
                        </div>
                    </div>

                    <!-- 系统类型选择 -->
                    <div class="config-section">
                        <label class="config-label">🎯 系统类型</label>
                        <div class="system-type-cards">
                            <div 
                                v-for="type in systemTypes" 
                                :key="type.value"
                                class="system-card"
                                :class="{ active: systemOptions.systemType === type.value }"
                                @click="selectSystemType(type.value)">
                                <div class="card-header">
                                    <span class="card-icon">{{ type.icon }}</span>
                                    <span class="card-title">{{ type.name }}</span>
                                </div>
                                <div class="card-description">{{ type.description }}</div>
                                <div class="card-usage">{{ type.usage }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 预览区域 -->
        <div class="preview-section" v-if="showPreview">
            <div class="preview-title">👀 生成预览</div>
            <div class="preview-content">{{ previewCode }}</div>
        </div>

        <!-- 生成按钮 -->
        <div class="action-section">
            <button 
                class="generate-btn" 
                :disabled="isGenerating || (!options.generateComponent && !options.generateSystem) || !featureName.trim()"
                @click="generateCode">
                <span class="btn-icon" :class="{ spinning: isGenerating }">
                    {{ isGenerating ? '⏳' : '🚀' }}
                </span>
                {{ isGenerating ? '生成中...' : '生成代码' }}
            </button>
        </div>
    </div>
</div> 